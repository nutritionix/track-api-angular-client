/**
 * @license Track Api Angular Client
 * (c) 2016 Nutritionix, LLC. http://nutritinix.com
 * License: MIT
 */
!function(t,e,r){"use strict";var n=e.module("nix.track-api-client",[]);n.provider("nixTrackApiClient",function(){var t,r="https://trackapi.nutritionix.com/v1",a={},u={};this.setApiEndpoint=function(t){r=t},t=this.setApiCredentials=function(t,e){a.appId=t,a.appKey=e},this.setHttpConfig=function(t){e.isObject(t)&&(u=t)},this.$get=["$http",function(i){var o,s=function(t,e){return e=n.deepMerge({method:"GET",url:r+t,headers:{"x-user-jwt":s.getUserJwt(),"X-APP-ID":a.appId,"X-APP-KEY":a.appKey},params:{}},u,e),i(e)};return s.getUserJwt=function(){return e.isFunction(o)?o():o},s.setUserJwt=function(t){o=t},s.setApiCredentials=t,s.calories_nutrient=208,s.macronutrients=[204,606,205,291,269,203],s.natural={},s.natural.nutrients=function(t){return s("/natural/nutrients",{method:"POST",data:{query:t}})},s.natural.tags=function(t){return s("/natural/tags",{method:"POST",data:{query:t}})},s.natural.add=function(t){return s("/natural/add",{method:"POST",data:{query:t}})},s.natural.update=function(t,e){return s("/natural/update",{method:"PUT",data:{query:t,foods:e}})},s.log={},s.log.get=function(t){return s("/log"+(t?"/"+t:""),{method:"GET"})},s.log["delete"]=function(t){return s("/log",{method:"DELETE",data:{foods:t}})},s.log.add=function(t){return s("/log",{method:"POST",data:{foods:t}})},s.log.update=function(t){return s("/log",{method:"PUT",data:{foods:t}})},s.oauth={facebook:{}},s.oauth.facebook.i=function(t,e){return s("/oauth/facebook/i",{method:"POST",data:{access_token:t,ref_code:e}})},s.users=function(){return s("/users",{method:"GET"})},s.users.preferences=function(t){return s("/users/preferences",{method:"POST",data:{users:e.isArray(t)?t:[t]}})},s.me=function(){return s("/me",{method:"GET"})},s.auth={signup:{}},s.auth.signup.step1=function(t){return s("/auth/signup/step1",{method:"POST",data:t})},s.auth.signup.step2=function(t){return s("/auth/signup/step2",{method:"POST",data:t})},s.auth.signin=function(t){return s("/auth/signin",{method:"POST",data:t})},s.permissions={},s.permissions.request=function(t){return s("/premissions/request",{method:"POST",data:{users:e.isArray(t)?t:[t]}})},s.reports={},s.reports.totals=function(t){return s("/reports/totals",{method:"GET",params:t})},s.recipes={},s.recipes["delete"]=function(t){return s("/recipes",{method:"DELETE",data:{id:t}})},s.recipes.get=function(t,e){var r={};return e&&(r.user=e),t&&(r.id=t),s("/recipes",{method:"GET",params:r})},s.recipes.add=function(t,e){return s("/recipes",{method:"POST",data:{query:e,recipe_name:t}})},s.recipes.update=function(t,r,n){var a={id:t};return e.isUndefined(r)||(a.name=r),e.isUndefined(n)||(a.query=n),s("/recipes",{method:"PUT",headers:{"x-user-jwt":s.getUserJwt()},data:a})},s}]}),n.filter("nutrient",function(){return function(t,r,n){var a;if(r=parseInt(r),r&&e.isArray(t))for(a in t)if(t.hasOwnProperty(a)&&parseInt(t[a].attr_id)===r)return n?t[a][n]:t[a];return null}}),n.deepMerge=function a(t,r){var n,u;if(arguments.length>2)return a(t,a.apply(null,Array.prototype.slice.call(arguments,1)));n=e.copy(t);for(u in r)r.hasOwnProperty(u)&&(n.hasOwnProperty(u)&&e.isObject(n[u])&&e.isObject(r[u])?n[u]=a(n[u],r[u]):n[u]=e.copy(r[u]));return n}}(window,window.angular);